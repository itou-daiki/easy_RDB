<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>easyRDB</title>
    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/theme/dracula.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>easyRDB</h1>
            <p>GitHub Pagesで動作するリレーショナルデータベース学習環境</p>
            <p>Created by Dit-Lab.(Daiki ITO)</p>
            <div class="nav-buttons">
                <a href="tutorial.html" class="btn btn-secondary">📚 SQL解説を見る</a>
            </div>
        </div>

        <div class="main-layout">
            <div class="editor-section">
                <div class="panel-header">
                    <span>🚀</span>
                    SQL Query Editor
                </div>
                <div class="editor-container">
                    <textarea id="sqlEditor" style="display: none;"></textarea>
                    
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="executeQuery()">
                            <span>▶️</span>
                            実行
                        </button>
                        <button class="btn btn-secondary" onclick="clearEditor()">
                            <span>🧹</span>
                            クリア
                        </button>
                        <button class="btn btn-danger" onclick="resetDatabase()">
                            <span>🔄</span>
                            リセット
                        </button>
                    </div>

                    <div class="result-area" id="resultArea" style="display: none;">
                        <div class="result-header">Query Results</div>
                        <div class="table-container">
                            <div id="queryResult"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="schema-section">
                    <h3>
                        <span>📊</span>
                        Database Schema
                    </h3>
                    
                    <div class="schema-table">
                        <h4>users</h4>
                        <div class="schema-content">
                            <p><strong>id:</strong> INTEGER (PRIMARY KEY)</p>
                            <p><strong>name:</strong> TEXT</p>
                            <p><strong>email:</strong> TEXT</p>
                            <p><strong>age:</strong> INTEGER</p>
                            <p><strong>department:</strong> TEXT</p>
                        </div>
                    </div>

                    <div class="schema-table">
                        <h4>orders</h4>
                        <div class="schema-content">
                            <p><strong>id:</strong> INTEGER (PRIMARY KEY)</p>
                            <p><strong>user_id:</strong> INTEGER (FOREIGN KEY)</p>
                            <p><strong>product_name:</strong> TEXT</p>
                            <p><strong>price:</strong> INTEGER</p>
                            <p><strong>order_date:</strong> TEXT</p>
                        </div>
                    </div>

                    <div class="schema-table">
                        <h4>departments</h4>
                        <div class="schema-content">
                            <p><strong>id:</strong> INTEGER (PRIMARY KEY)</p>
                            <p><strong>name:</strong> TEXT</p>
                            <p><strong>manager:</strong> TEXT</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="exercise-panel">
            <div class="panel-header">
                <span>🎯</span>
                練習問題
            </div>
            <div class="exercise-content">
                <div class="exercise-list">
                    <div class="exercise-card">
                        <h4>基本のSELECT</h4>
                        <p>全ユーザーの名前とメールアドレスを取得してください。</p>
                    </div>
                    <div class="exercise-card">
                        <h4>条件検索</h4>
                        <p>年齢が30歳以上のユーザーを検索してください。</p>
                    </div>
                    <div class="exercise-card">
                        <h4>JOIN操作</h4>
                        <p>ユーザーとその注文履歴を結合して表示してください。</p>
                    </div>
                    <div class="exercise-card">
                        <h4>集約関数</h4>
                        <p>部署ごとのユーザー数をカウントしてください。</p>
                    </div>
                    <div class="exercise-card">
                        <h4>データ挿入</h4>
                        <p>新しいユーザーをusersテーブルに追加してください。</p>
                    </div>
                    <div class="exercise-card">
                        <h4>データ更新</h4>
                        <p>特定のユーザーのメールアドレスを更新してください。</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CodeMirror JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.12/mode/sql/sql.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>